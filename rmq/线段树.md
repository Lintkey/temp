## 线段树基础

核心就维护需要查询的`val`和维护配合修改操作的`val_xxx_tag`

需要向下修改、查询时就下放`val_xxx_tag`，然后合并子节点信息更新`val`(仅查询不用)

> 写的时候有个技巧：如果使用成员方法式的代码，下放时用区间覆盖更新代替手动操作，这样不容易出错还容易改

## 李超线段树：区间一次函数赋最大/小值，单点查询

容易想到肯定要维护斜率和截距的`tag`。对于重复打了`tag`的区间，需要比较两个函数哪个更优，需要特殊考虑的情况是原函数和现函数在区间内相交(找交点比较麻烦，一般的做法是比较区间中点值和区间端点值分情况)

注意到求的是最大/最小值，因此此线段树查询时无需下放标记，取查询途中最大/小值即可